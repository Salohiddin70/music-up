<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Music Up</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #fff;
      min-height: 100vh;
      padding-bottom: 100px;
      overflow-x: hidden;
    }

    h1 {
      text-align: center;
      padding: 20px;
      color: #40e0d0;
      font-size: 32px;
      text-shadow: 0 0 12px #40e0d0, 0 0 24px #1db954;
    }

    .track-list {
      padding: 20px;
    }

    .track {
      background: rgba(255,255,255,0.05);
      margin-bottom: 12px;
      border-radius: 12px;
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 0 12px rgba(64,224,208,0.2);
    }

    .track-title {
      font-size: 16px;
    }

    .track button {
      background: none;
      border: none;
      color: #40e0d0;
      font-size: 20px;
      cursor: pointer;
    }

    #player-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: rgba(255,255,255,0.08);
      backdrop-filter: blur(20px);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 20px;
      box-shadow: 0 -2px 14px rgba(64,224,208,0.3);
      z-index: 100;
      transition: transform 0.4s ease;
    }

    #player-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    #player-info img {
      width: 56px;
      height: 56px;
      border-radius: 8px;
      object-fit: cover;
      box-shadow: 0 0 10px rgba(64,224,208,0.4);
    }

    #track-name {
      font-size: 14px;
      max-width: 140px;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    #player-controls {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #play-btn {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: radial-gradient(circle, #1db954, #1db954cc);
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 12px #1db954, 0 0 24px #40e0d0;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    #play-btn:hover {
      transform: scale(1.1);
    }

    #play-btn svg {
      width: 20px;
      height: 20px;
      fill: #fff;
    }

    audio { display: none; }
  </style>
</head>
<body>

  <h1>Music Up</h1>

  <div class="track-list">
    <div class="track">
      <span class="track-title">Мот — День и ночь</span>
      <button onclick="playTrack(0)">▶️</button>
    </div>
    <div class="track">
      <span class="track-title">Macan — L</span>
      <button onclick="playTrack(1)">▶️</button>
    </div>
    <div class="track">
      <span class="track-title">Macan — Заново</span>
      <button onclick="playTrack(2)">▶️</button>
    </div>
    <div class="track">
      <span class="track-title">Macan — Останься образом</span>
      <button onclick="playTrack(3)">▶️</button>
    </div>
  </div>

  <div id="player-bar">
    <div id="player-info">
      <img id="track-img" src="" alt="Обложка">
      <div id="track-name">Трек</div>
    </div>
    <div id="player-controls">
      <button id="play-btn" onclick="togglePlayPause()">
        <svg id="play-icon" viewBox="0 0 24 24"><polygon points="5,3 19,12 5,21"/></svg>
      </button>
    </div>
  </div>

  <audio id="player"></audio>

  <script>
    const player = document.getElementById("player");
    const trackImg = document.getElementById("track-img");
    const trackName = document.getElementById("track-name");
    const playIcon = document.getElementById("play-icon");
    const playerBar = document.getElementById("player-bar");

    const playlist = [
      {
        title: "Мот — День и ночь",
        url: "https://media.vocaroo.com/mp3/16ker4KT1gn3",
        img: "https://raw.githubusercontent.com/Salohiddin70/music-up/main/IMG_1963.jpeg"
      },
      {
        title: "Macan — L",
        url: "https://media.vocaroo.com/mp3/1iX95z5SQfOM",
        img: "https://raw.githubusercontent.com/Salohiddin70/music-up/main/IMG_1967.jpeg"
      },
      {
        title: "Macan — Заново",
        url: "https://media.vocaroo.com/mp3/1Z155EzK1A4u",
        img: "https://raw.githubusercontent.com/Salohiddin70/music-up/main/IMG_1967.jpeg"
      },
      {
        title: "Macan — Останься образом",
        url: "https://voca.ro/1EmoFWHzaRO6",
        img: "https://raw.githubusercontent.com/Salohiddin70/music-up/main/IMG_1967.jpeg"
      }
    ];

    let currentTrackIndex = 0;

    function playTrack(index) {
      const track = playlist[index];
      currentTrackIndex = index;
      player.src = track.url;
      trackImg.src = track.img;
      trackName.textContent = track.title;
      player.play();
      updatePlayIcon(true);
    }

    function togglePlayPause() {
      if (player.paused) {
        player.play();
        updatePlayIcon(true);
      } else {
        player.pause();
        updatePlayIcon(false);
      }
    }

    function updatePlayIcon(isPlaying) {
      playIcon.innerHTML = isPlaying
        ? `<rect x="6" y="4" width="4" height="16" fill="#fff"></rect>
           <rect x="14" y="4" width="4" height="16" fill="#fff"></rect>`
        : `<polygon points="5,3 19,12 5,21" fill="#fff"/>`;
    }

    player.addEventListener('ended', () => {
      nextTrack();
    });

    // Swipe
    let startX = 0;
    playerBar.addEventListener("touchstart", e => startX = e.touches[0].clientX);
    playerBar.addEventListener("touchend", e => {
      const dx = e.changedTouches[0].clientX - startX;
      if (dx < -50) nextTrack();
      else if (dx > 50) prevTrack();
    });

    function nextTrack() {
      currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
      playTrack(currentTrackIndex);
    }

    function prevTrack() {
      currentTrackIndex = (currentTrackIndex - 1 + playlist.length) % playlist.length;
      playTrack(currentTrackIndex);
    }
  </script>
</body>
</html>
